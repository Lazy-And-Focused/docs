---
sidebarTitle: Рабочая папка
---

# Организация рабочего каталога в FAiL

{/* prettier-ignore */}
> [!CAUTION]
>
> Активно дорабатывается.

Рабочий каталог это тот, в котором пишется весь основной код. Обычно
он либо равен `~/src`, либо рутовому (`~/`).

## Структура [#structure]

Структура
([архитектура](https://nextjs.org/docs/app/getting-started/project-structure))
проекта в Next.js при использовании App Router обычно имеет следующий
или схожий с ним вид (рассмотрим внутри `src` каталога):

- `app`

  > Сердце вашего сайта! Тут и страницы, и слои, и ассеты к ним.

- `shared/config`

  > Конфигикурации приложения. Этот каталог может содержаться на
  > уровень выше, но в рамках нашего проекта – внутри `src`.

- `...security` _(файлы)_

  > Сюда обычно входят такие файлы, как `middleware.ts` и `auth.ts`.

## Дочерняя "app" [#child-app]

Вам уже известно, как работает
[App Router](https://nextjs.org/docs/app) в Next.js. Если нет, то
почитайте, но а сейчас мы рассмотрим только ту часть, которая нам
действительно необходима.

Иерархия внутри `src/app` выглядит следующим образом:

- `layout.tsx` _(файл)_

  > Рутовый слой.

- `page.tsx` _(файл)_

  > Главная страница приложения, отображаемая через URL `~/`.
  > Обычно выносится в подкаталог по типу "(home)" или "(landing)"
  > _(`~/src/app/(home)/page.tsx`)_.

- `...pages`

  > Папки с вложенными `page.tsx` и, при необходимости, `layout.tsx`.
  > Помимо этого может содержать `_ui` каталог с компонентами
  > страницы, или `_lib`, а также такие же вложенные подпапки.
  >
  > Обратите внимание, что большие и/или часто переиспользуемые
  > компоненты и их логику стоит выносить в такие папки, как
  > `widgets` и `shared`.

## Вложенные в дочернюю "app" [#child-app-subs]

Я не придумал, как ещё обозвать этот раздел, кроме как "вложенность"
или "дочерние папки страницы". Хорошо, он будет о том, как Вы
догадались, о каталогах внутри `src/app/[page]`, где `page` – имя
страницы (`home` или `profile`, к примеру).

Каталог _может_ содержать внутри себя:

{/* prettier-ignore */}
> [!NOTE]
>
> Префикс `_` в Next.js App Router подсказывает компилятору
> (сборщику), что эти папки/пути следует удалить из URL. Другими
> словами, код внутри ни в коем случае не будет рассматриваться, как
> страница, даже если файл будет называться `page.tsx`.

- `_ui`

  > Компоненты страницы и её составляющие: форматеры данных, стили.

- `_api`

  > Код, взаимодействующий с Backend-частью приложения и другие
  > связанные данные с ним, как типы данных, модели.

- `_lib`

  > Библиотечный код, который нужен другим модулям в сегменте.

- `_hooks`

  > Специфичные для страницы или слоя хуки React. Обычно туда
  > выносятся хуки со вспомогательной логикой, в то время как в тот
  > же каталог `_lib` что-то более "обобщённое".

- `_config`

  > Конфигурация свойственная только для страницы и её компонентов.
